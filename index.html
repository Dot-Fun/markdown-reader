<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>dotfun Markdown Studio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&family=Lora:wght@400;500;600;700&family=Sora:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css"
      id="hljs-theme-light"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/tokyo-night-dark.min.css"
      id="hljs-theme-dark"
      disabled
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app" data-theme="light">
      <header class="app__header">
        <div class="brand">
          <span class="brand__glyph" aria-hidden="true"></span>
          <div>
            <h1>dotfun Markdown Studio</h1>
            <p>Markdown editor for the human first, AI revolution.</p>
          </div>
        </div>
        <div class="toolbar" role="group" aria-label="Editor controls">
          <button type="button" class="toolbar__button" id="btn-load-demo">Demo</button>
          <label class="toolbar__button file-label">
            <input type="file" id="file-input" accept=".md,.markdown,.txt" />
            Import
          </label>
          <button type="button" class="toolbar__button" id="btn-download">Export .md</button>
          <button type="button" class="toolbar__button" id="btn-copy-html">Copy HTML</button>
          <button type="button" class="toolbar__button" id="btn-copy-docs">Copy for Docs</button>
          <button
            type="button"
            class="toolbar__button toolbar__button--icon"
            id="btn-open-settings"
            aria-label="Preview settings"
            aria-haspopup="dialog"
            aria-expanded="false"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-cog-icon lucide-cog"
            >
              <path d="M11 10.27 7 3.34" />
              <path d="m11 13.73-4 6.93" />
              <path d="M12 22v-2" />
              <path d="M12 2v2" />
              <path d="M14 12h8" />
              <path d="m17 20.66-1-1.73" />
              <path d="m17 3.34-1 1.73" />
              <path d="M2 12h2" />
              <path d="m20.66 17-1.73-1" />
              <path d="m20.66 7-1.73 1" />
              <path d="m3.34 17 1.73-1" />
              <path d="m3.34 7 1.73 1" />
              <circle cx="12" cy="12" r="2" />
              <circle cx="12" cy="12" r="8" />
            </svg>
          </button>
          <button
            type="button"
            class="toolbar__button toolbar__button--icon"
            id="btn-toggle-theme"
            aria-label="Toggle theme"
          >
            <span class="theme-icon" data-theme="light" aria-hidden="true">☀︎</span>
            <span class="theme-icon" data-theme="dark" aria-hidden="true">☾</span>
          </button>
        </div>
      </header>

      <main class="workspace">
        <section class="workspace__pane workspace__pane--editor" aria-label="Markdown editor">
          <div class="pane-header">
            <h2>Markdown</h2>
            <span class="pane-meta" id="editor-stats">0 words</span>
          </div>
          <textarea id="editor" spellcheck="false" aria-label="Markdown input"></textarea>
        </section>
        <section
          class="workspace__pane workspace__pane--preview"
          aria-live="polite"
          aria-label="Preview"
        >
          <div class="pane-header">
            <h2>Preview</h2>
            <div class="pane-meta">
              <span id="theme-indicator">Light</span>
            </div>
          </div>
          <article id="preview" class="markdown-body"></article>
        </section>
      </main>
    </div>

    <aside class="bookmark-callout" id="bookmark-callout" role="status" aria-live="polite">
      <div class="bookmark-callout__content">
        <span class="bookmark-callout__icon" aria-hidden="true">⭐</span>
        <p class="bookmark-callout__text">
          <strong>Love dotfun Markdown Studio?</strong>
          Bookmark this page (Ctrl/Cmd+D) for instant access to your favorite markdown editor
          anytime.
        </p>
        <button
          type="button"
          class="bookmark-callout__dismiss"
          id="dismiss-bookmark"
          aria-label="Dismiss bookmark reminder"
        >
          ✕
        </button>
      </div>
    </aside>

    <div class="settings" id="settings-panel" hidden>
      <div class="settings__backdrop" data-settings-close></div>
      <section
        class="settings__sheet"
        role="dialog"
        aria-modal="true"
        aria-labelledby="settings-title"
        aria-describedby="settings-description"
      >
        <button
          type="button"
          class="settings__close"
          id="btn-close-settings"
          aria-label="Close settings"
        >
          <span aria-hidden="true">✕</span>
        </button>
        <div class="settings__columns">
          <aside class="settings__sandbox" aria-hidden="true">
            <div class="settings__sandbox-frame">
              <article
                class="markdown-body settings-preview"
                id="settings-preview"
                aria-hidden="true"
              ></article>
            </div>
            <p class="settings__sandbox-note">Live preview updates as you adjust settings.</p>
          </aside>
          <div class="settings__content">
            <header class="settings__header">
              <div>
                <h2 id="settings-title">Preview Settings</h2>
                <p id="settings-description">
                  Tune the reader experience and exports. Changes apply instantly and save to this
                  device.
                </p>
              </div>
            </header>
            <form class="settings__form" id="settings-form">
              <section class="settings__section" aria-labelledby="settings-typography">
                <h3 id="settings-typography">Typography</h3>
                <div class="settings__grid">
                  <label class="settings__field" for="setting-font-family">
                    <span class="settings__label">Body font</span>
                    <select data-setting="fontFamily" id="setting-font-family">
                      <option value="sora">Dotfun Sans (Sora)</option>
                      <option value="inter">Inter</option>
                      <option value="system">System UI</option>
                      <option value="lora">Editorial Serif (Lora)</option>
                    </select>
                    <span class="settings__hint" data-display-for="fontFamily"></span>
                  </label>
                  <label class="settings__field" for="setting-heading-font">
                    <span class="settings__label">Heading font</span>
                    <select data-setting="headingFont" id="setting-heading-font">
                      <option value="sora">Sora Display</option>
                      <option value="match">Match body</option>
                      <option value="lora">Editorial Serif</option>
                    </select>
                    <span class="settings__hint" data-display-for="headingFont"></span>
                  </label>
                  <label class="settings__field settings__field--range" for="setting-text-scale">
                    <span class="settings__label">Text size</span>
                    <div class="settings__control">
                      <input
                        type="range"
                        min="0.9"
                        max="1.2"
                        step="0.05"
                        data-setting="textScale"
                        id="setting-text-scale"
                      />
                      <span class="settings__value" data-display-for="textScale">100%</span>
                    </div>
                  </label>
                  <label class="settings__field settings__field--range" for="setting-line-height">
                    <span class="settings__label">Line height</span>
                    <div class="settings__control">
                      <input
                        type="range"
                        min="1.4"
                        max="2"
                        step="0.05"
                        data-setting="lineHeight"
                        id="setting-line-height"
                      />
                      <span class="settings__value" data-display-for="lineHeight">1.75</span>
                    </div>
                  </label>
                  <label class="settings__field" for="setting-heading-weight">
                    <span class="settings__label">Heading weight</span>
                    <select data-setting="headingWeight" id="setting-heading-weight">
                      <option value="500">Medium</option>
                      <option value="600">Semibold</option>
                      <option value="700">Bold</option>
                    </select>
                    <span class="settings__hint">Affects all heading levels</span>
                  </label>
                </div>
              </section>

              <section class="settings__section" aria-labelledby="settings-layout">
                <h3 id="settings-layout">Layout</h3>
                <div class="settings__grid">
                  <label class="settings__field settings__field--range" for="setting-content-width">
                    <span class="settings__label">Content width</span>
                    <div class="settings__control">
                      <input
                        type="range"
                        min="60"
                        max="90"
                        step="1"
                        data-setting="contentWidth"
                        id="setting-content-width"
                      />
                      <span class="settings__value" data-display-for="contentWidth"
                        >70&nbsp;ch</span
                      >
                    </div>
                  </label>
                  <label
                    class="settings__field settings__field--range"
                    for="setting-paragraph-spacing"
                  >
                    <span class="settings__label">Paragraph spacing</span>
                    <div class="settings__control">
                      <input
                        type="range"
                        min="0.8"
                        max="1.6"
                        step="0.05"
                        data-setting="paragraphSpacing"
                        id="setting-paragraph-spacing"
                      />
                      <span class="settings__value" data-display-for="paragraphSpacing"
                        >1.1&nbsp;rem</span
                      >
                    </div>
                  </label>
                </div>
              </section>

              <section class="settings__section" aria-labelledby="settings-color">
                <h3 id="settings-color">Color &amp; accents</h3>
                <div class="settings__grid settings__grid--auto">
                  <label class="settings__field settings__field--color" for="setting-accent-color">
                    <span class="settings__label">Accent color</span>
                    <div class="settings__color-control">
                      <input type="color" data-setting="accentColor" id="setting-accent-color" />
                      <button
                        type="button"
                        class="settings__pill"
                        data-settings-reset="accentColor"
                      >
                        Default
                      </button>
                    </div>
                    <span class="settings__hint">Links, callouts, checkboxes, attribution</span>
                  </label>
                  <label
                    class="settings__field settings__field--color"
                    for="setting-background-color"
                  >
                    <span class="settings__label">Preview background</span>
                    <div class="settings__color-control">
                      <input
                        type="color"
                        data-setting="backgroundColor"
                        id="setting-background-color"
                      />
                      <button
                        type="button"
                        class="settings__pill"
                        data-settings-reset="backgroundColor"
                      >
                        Default
                      </button>
                    </div>
                    <span class="settings__hint">Applies to the live preview and exports</span>
                  </label>
                  <label class="settings__field settings__field--color" for="setting-text-color">
                    <span class="settings__label">Text color</span>
                    <div class="settings__color-control">
                      <input type="color" data-setting="textColor" id="setting-text-color" />
                      <button type="button" class="settings__pill" data-settings-reset="textColor">
                        Default
                      </button>
                    </div>
                    <span class="settings__hint">Body copy, headings, table text</span>
                  </label>
                  <label class="settings__field" for="setting-code-theme">
                    <span class="settings__label">Code block theme</span>
                    <select data-setting="codeTheme" id="setting-code-theme">
                      <option value="system">Match theme</option>
                      <option value="pastel">Soft Pastel</option>
                      <option value="midnight">Midnight Contrast</option>
                      <option value="mint">Mint Clay</option>
                    </select>
                    <span class="settings__hint">Controls code panels, tables, highlights</span>
                  </label>
                </div>
              </section>

              <footer class="settings__footer">
                <button
                  type="button"
                  class="settings__pill settings__pill--danger"
                  id="btn-reset-settings"
                >
                  Restore defaults
                </button>
                <p class="settings__note">Settings auto-save for this browser.</p>
              </footer>
            </form>
          </div>
        </div>
      </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.2/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.2/dist/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="app.min.js" defer></script>
  </body>
</html>
